(function(t){function e(e){for(var n,a,i=e[0],u=e[1],s=e[2],d=0,p=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);l&&l(e);while(p.length)p.shift()();return c.push.apply(c,s||[]),r()}function r(){for(var t,e=0;e<c.length;e++){for(var r=c[e],n=!0,i=1;i<r.length;i++){var u=r[i];0!==o[u]&&(n=!1)}n&&(c.splice(e--,1),t=a(a.s=r[0]))}return t}var n={},o={app:0},c=[];function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=n,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var s=0;s<i.length;s++)e(i[s]);var l=u;c.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("cd49")},cd49:function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("router-view")},c=[],a=r("d225"),i=r("b0b4"),u=r("308d"),s=r("6bb5"),l=r("4e2b"),d=r("9ab4"),p=r("60a3"),f=(r("7f7f"),r("ac6a"),r("75fc")),b=r("bc3a"),h=r.n(b),y="http",v="localhost",O=4600,g={products:"".concat(y,"://").concat(v,":").concat(O,"/products"),orders:"".concat(y,"://").concat(v,":").concat(O,"/orders")},j=function(){function t(){Object(a["a"])(this,t)}return Object(i["a"])(t,[{key:"loadProducts",value:function(){return h.a.get(g.products).then(function(t){return t.data})}},{key:"storeOrder",value:function(t){var e={lines:Object(f["a"])(t.orderLines.values()).map(function(t){return{productId:t.product.id,productName:t.product.name,quantity:t.quantity}})};return h.a.post(g.orders,e).then(function(t){return t.data.id})}}]),t}(),m=(r("96cf"),r("3b8d")),C=(r("5df3"),r("4f7f"),r("2f62")),_=(r("20d6"),function t(e,r,n,o,c){Object(a["a"])(this,t),this.id=e,this.name=r,this.description=n,this.category=o,this.price=c}),w=function(){function t(e,r){Object(a["a"])(this,t),this.product=e,this.quantity=r}return Object(i["a"])(t,[{key:"total",get:function(){return this.product.price*this.quantity}}]),t}(),k=function(){function t(e){var r;(Object(a["a"])(this,t),this.lines=[],e)&&(r=this.lines).push.apply(r,Object(f["a"])(e))}return Object(i["a"])(t,[{key:"addProduct",value:function(t,e){var r=this.lines.findIndex(function(e){return e.product.id===t.id});r>-1?0===e?this.removeProduct(t.id):this.lines[r].quantity+=e:this.lines.push(new w(t,e))}},{key:"removeProduct",value:function(t){this.lines=this.lines.filter(function(e){return e.product.id!==t})}},{key:"orderLines",get:function(){return this.lines}},{key:"productCount",get:function(){return this.lines.reduce(function(t,e){return t+e.quantity},0)}},{key:"total",get:function(){return this.lines.reduce(function(t,e){return t+e.total},0)}}]),t}();n["a"].use(C["a"]);var P=new C["a"].Store({state:{products:[1,2,3,4,5].map(function(t){return new _(t,"store prod".concat(t),"Product ".concat(t),"Cat".concat(t%2),450)}),order:new k,selectedCategory:"All",storeId:-1},mutations:{selectCategory:function(t,e){t.selectedCategory=e},addToOrder:function(t,e){t.order.addProduct(e.product,e.quantity)},addProducts:function(t,e){t.products=e},setOrderId:function(t,e){t.storeId=e},resetOrder:function(t){t.order=new k}},getters:{categories:function(t){return["All"].concat(Object(f["a"])(new Set(t.products.map(function(t){return t.category}))))},filteredProducts:function(t){return t.products.filter(function(e){return"All"===t.selectedCategory||t.selectedCategory===e.category})}},actions:{loadProducts:function(){var t=Object(m["a"])(regeneratorRuntime.mark(function t(e,r){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r();case 2:n=t.sent,e.commit("addProducts",n);case 4:case"end":return t.stop()}},t)}));function e(e,r){return t.apply(this,arguments)}return e}(),storeOrder:function(){var t=Object(m["a"])(regeneratorRuntime.mark(function t(e,r){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,r(e.state.order);case 3:t.t1=t.sent,t.t0.commit.call(t.t0,"setOrderId",t.t1),e.commit("resetOrder");case 6:case"end":return t.stop()}},t)}));function e(e,r){return t.apply(this,arguments)}return e}()}});function x(t){return function(e,r){return{get:function(){return P.state[t]}}}}function T(t){return function(e,r){return{get:function(){return P.getters[t||r]}}}}function q(t){return function(e,r,n){n.value=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];P.commit.apply(P,[t||r].concat(n))}}}function A(t){return function(e,r,n){n.value=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];P.dispatch.apply(P,[t||r].concat(n))}}}var S=function(t){function e(){var t;return Object(a["a"])(this,e),t=Object(u["a"])(this,Object(s["a"])(e).call(this)),t.handler=new j,t.loadProducts(t.handler.loadProducts),t}return Object(l["a"])(e,t),Object(i["a"])(e,[{key:"loadProducts",value:function(t){}}]),e}(p["c"]);Object(d["a"])([A()],S.prototype,"loadProducts",null),S=Object(d["a"])([p["a"]],S);var $=S,I=$,E=r("2877"),L=Object(E["a"])(I,o,c,!1,null,null,null),M=L.exports,R=r("8c4f"),N=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Header"),r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-3 p-2"},[r("CategoryList",{attrs:{categories:t.categories,selected:t.selectedCategory},on:{selectCategory:t.handleSelectCategory}})],1),r("div",{staticClass:"col-9 p-2"},t._l(t.filteredProducts,function(e){return r("ProductItem",{key:e.id,attrs:{product:e},on:{addToCart:t.handleAddToCart}})}),1)])])],1)},B=[],F=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card m-1 p-1 bg-light"},[r("h4",[t._v("\n    "+t._s(t.product.name)+"\n    "),r("span",{staticClass:"badge badge-pill badge-primary float-right"},[t._v("\n      $"+t._s(t.product.price.toFixed(2))+"\n    ")])]),r("div",{staticClass:"card-text bg-white p-1"},[t._v("\n    "+t._s(t.product.description)+"\n    "),r("button",{staticClass:"btn btn-success btn-sm float-right",on:{click:t.handleAddToCart}},[t._v("\n      Add To Cart\n    ")]),r("select",{directives:[{name:"model",rawName:"v-model.number",value:t.quantity,expression:"quantity",modifiers:{number:!0}}],staticClass:"form-control-inline float-right m-1",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(e){var r="_value"in e?e._value:e.value;return t._n(r)});t.quantity=e.target.multiple?r:r[0]}}},[r("option",[t._v("1")]),r("option",[t._v("2")]),r("option",[t._v("3")])])])])},H=[],J=function(t){function e(){var t;return Object(a["a"])(this,e),t=Object(u["a"])(this,Object(s["a"])(e).apply(this,arguments)),t.quantity=1,t}return Object(l["a"])(e,t),Object(i["a"])(e,[{key:"handleAddToCart",value:function(){this.$emit("addToCart",{product:this.product,quantity:this.quantity})}}]),e}(p["c"]);Object(d["a"])([Object(p["b"])()],J.prototype,"product",void 0),J=Object(d["a"])([p["a"]],J);var z=J,D=z,G=Object(E["a"])(D,F,H,!1,null,null,null),K=G.exports,Q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",t._l(t.categories,function(e){return r("button",{key:e,class:t.getButtonClasses(e),on:{click:function(r){return t.selectCategory(e)}}},[t._v("\n    "+t._s(e)+"\n  ")])}),0)},U=[],V=function(t){function e(){var t;return Object(a["a"])(this,e),t=Object(u["a"])(this,Object(s["a"])(e).apply(this,arguments)),t.selected=t.categories[0],t}return Object(l["a"])(e,t),Object(i["a"])(e,[{key:"selectCategory",value:function(t){this.$emit("selectCategory",t)}},{key:"getButtonClasses",value:function(t){var e=this.selected===t?"btn-primary":"btn-secondary";return"btn btn-block ".concat(e)}}]),e}(p["c"]);Object(d["a"])([Object(p["b"])()],V.prototype,"categories",void 0),Object(d["a"])([Object(p["b"])()],V.prototype,"selected",void 0),V=Object(d["a"])([p["a"]],V);var W=V,X=W,Y=Object(E["a"])(X,Q,U,!1,null,null,null),Z=Y.exports,tt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"p-1 bg-secondary text-white text-right"},[t._v("\n  "+t._s(t.displayText)+"\n  "),r("router-link",{staticClass:" btn btn-sm btn-primary m-1",attrs:{to:"/order"}},[t._v(" Submit Order")])],1)},et=[],rt=function(t){function e(){return Object(a["a"])(this,e),Object(u["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),Object(i["a"])(e,[{key:"displayText",get:function(){var t=this.order.productCount;return 0===t?"(No Selection)":"".concat(t," product(s), $").concat(this.order.total.toFixed(2))}}]),e}(p["c"]);Object(d["a"])([x("order")],rt.prototype,"order",void 0),rt=Object(d["a"])([p["a"]],rt);var nt=rt,ot=nt,ct=Object(E["a"])(ot,tt,et,!1,null,null,null),at=ct.exports,it=function(t){function e(){return Object(a["a"])(this,e),Object(u["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),Object(i["a"])(e,[{key:"handleSelectCategory",value:function(t){}},{key:"handleAddToCart",value:function(t){}}]),e}(p["c"]);Object(d["a"])([x("selectedCategory")],it.prototype,"selectedCategory",void 0),Object(d["a"])([T()],it.prototype,"filteredProducts",void 0),Object(d["a"])([T()],it.prototype,"categories",void 0),Object(d["a"])([q("selectCategory")],it.prototype,"handleSelectCategory",null),Object(d["a"])([q("addToOrder")],it.prototype,"handleAddToCart",null),it=Object(d["a"])([Object(p["a"])({components:{ProductItem:K,CategoryList:Z,Header:at}})],it);var ut=it,st=ut,lt=Object(E["a"])(st,N,B,!1,null,null,null),dt=lt.exports;n["a"].use(R["a"]);var pt=new R["a"]({mode:"history",base:"/",routes:[{path:"/",redirect:"/products"},{path:"/products",component:dt}]});r("ab8b");n["a"].config.productionTip=!1,new n["a"]({router:pt,store:P,render:function(t){return t(M)}}).$mount("#app")}});
//# sourceMappingURL=app.e630ae8a.js.map